<!DOCTYPE html>
<html>
    <head>
        <title>My First Page</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-1y5c5c5c5c5c5c5c5c5c5c5c5c5c5c5c5c5c5c5c5c5c5c5c5c5c5c5c5c5c5" crossorigin="anonymous  "></script>
    </head>
<body>


<div class="container-fluid">
    <h1>Video To Text</h1>
    <input type="text" id="targetUrl" class="form-control input-lg" placeholder="Enter the target tiktok video URL here"/>
    <button id="convert" class="btn btn-primary mt-2" onclick="convertVideo()">Convert</button>
    <div id="result" class="mt-3"></div>
</div>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
  function convertVideo() {
    document.getElementById('convert').disabled = true;
    const url = document.getElementById('targetUrl').value;
    axios.get(`/stt/tiktok/?url=${encodeURIComponent(url)}`)
      .then(function (response) {
        console.log(response.data);
        document.getElementById('result').innerText = response.data.text;
        document.getElementById('convert').disabled = false;

      })
      .catch(function (error) {
        window.alert('Error fetching data:', error);
        console.error('Error fetching data:', error);
        document.getElementById('convert').disabled = false;
      });
  }
</script>
</script>
</body>
</html>